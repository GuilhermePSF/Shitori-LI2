        -:    0:Source:src/game.c
        -:    0:Graph:test_verifica-game.gcno
        -:    0:Data:test_verifica-game.gcda
        -:    0:Runs:1
        -:    1:#include <stdio.h>
        -:    2:#include <stdlib.h>
        -:    3:#include <ctype.h>
        -:    4:#include "game.h"
        -:    5:
function modificarTabuleiro called 0 returned 0% blocks executed 0%
    #####:    6:void modificarTabuleiro(Tabuleiro *tab, Historico *hist, char cmd, const char *coord)
        -:    7:{
    #####:    8:    int linha = atoi(&coord[1]) - 1;
call    0 never executed
    #####:    9:    int coluna = tolower(coord[0]) - 'a';
        -:   10:
        -:   11:    // Verifica se a coordenada está dentro dos limites do tabuleiro
    #####:   12:    if (linha < 0 || linha >= tab->linhas || coluna < 0 || coluna >= tab->colunas)
branch  0 never executed
branch  1 never executed
branch  2 never executed
branch  3 never executed
branch  4 never executed
branch  5 never executed
branch  6 never executed
branch  7 never executed
        -:   13:    {
    #####:   14:        printf("Coordenada inválida.\n");
call    0 never executed
    #####:   15:        return;
call    0 never executed
        -:   16:    }
        -:   17:
        -:   18:    // Salva o estado atual do tabuleiro no histórico
    #####:   19:    guardar_estado(hist, tab);
call    0 never executed
        -:   20:
    #####:   21:    if (cmd == 'b') // Pintar de branco
branch  0 never executed
branch  1 never executed
        -:   22:    {
    #####:   23:        if (tab->grelha[linha][coluna] == '#')
branch  0 never executed
branch  1 never executed
        -:   24:        {
    #####:   25:            printf("Erro: Não é possível pintar uma posição que já está riscada.\n");
call    0 never executed
    #####:   26:            return;
call    0 never executed
        -:   27:        }
    #####:   28:        tab->grelha[linha][coluna] = toupper(tab->grelha[linha][coluna]);
        -:   29:    }
    #####:   30:    else if (cmd == 'r') // Riscar
branch  0 never executed
branch  1 never executed
        -:   31:    {
    #####:   32:        if (isupper(tab->grelha[linha][coluna]))
branch  0 never executed
branch  1 never executed
        -:   33:        {
    #####:   34:            printf("Erro: Não é possível riscar uma posição que já está em branco.\n");
call    0 never executed
    #####:   35:            return;
call    0 never executed
        -:   36:        }
    #####:   37:        tab->grelha[linha][coluna] = '#';
        -:   38:    }
        -:   39:
        -:   40:    // Mostra o tabuleiro atualizado
    #####:   41:    mostrarTabuleiro(tab);
call    0 never executed
        -:   42:}
